---
# yamllint disable rule:truthy
name: Codex Project Sync v2

on:
  issues:
    types: [opened]

permissions:
  issues: write
  repository-projects: write

jobs:
  sync:
    runs-on: ubuntu-latest

    env:
      PROJECT_ID: ${{ secrets.CODEX_PROJECT_ID }}

    steps:
      - name: Add issue to Codex project
        run: |
          gh project item-add "$PROJECT_ID" \
            --url "${{ github.event.issue.html_url }}" || true
