#!/bin/sh

# -----------------------------------------
# Sprint 4 Safe Pre-Commit Hook
# Runs ONLY linting to keep commits clean.
# Tests are skipped until Sprint 5 rewrite.
# -----------------------------------------

echo "ğŸ” Running ESLint..."
npm run lint

. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Running YAML lint..."
yamllint .github/workflows

RESULT=$?
if [ $RESULT -ne 0 ]; then
  echo "âŒ YAML lint failed â€” fix workflow files before committing."
  exit 1
fi

echo "âœ… YAML OK"

echo "âš ï¸  Skipping typecheck (not needed / not defined)"
echo "âš ï¸  Skipping tests (Sprint 5 will rebuild them)"

echo "âœ… Pre-commit checks complete"
